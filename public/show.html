<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Video Sync Test</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/85188/jquery.ripples-min.js"></script> -->
    <script src="ripple.js"></script>
</head>

<body style="margin:0; height:100%; width:100%">
  <!-- <img src='img/DC_button_1.png' style='position:absolute; top:0; z-index:14'> -->
  <div id='time' style =' font-family: myfont; margin:0; z-index: 15; position: absolute;  color: white; font-size: 10vw; left:6.5%'>00:00:00</div>
  <!-- <div id='u' style =' font-family: myfont; margin:0; z-index: 10; position: absolute;  color: white;font-size: 2.8vw;left: 31.4%;top: 13.8%; padding-right: 10%; font-weight: lighter;'>
  CONNECT YOUR HEADPHONES (NOISE CANCELLATION WORKS BEST!) & SWITCH YOUR PHONE TO SILENT MODE. PLEASE DO NOT PLAY THE AUDIO OUT LOUD</div>
  <div id='u' style =' font-family: myfont; margin:0; z-index: 10; position: absolute;  color: white;font-size: 2.8vw;left: 31.4%;top: 28%; padding-right: 10%; font-weight: lighter;'>
   YOU WILL NEED TO USE YOUR OWN INTERNET/DATA. WITHOUT THIS, THE AUDIO WILL NOT DOWNLOAD AND SYNC</div> -->
  <div id = 'preload' class ='image' style='z-index:1000; background-image: none; background-color: black;'>
    <div class="lds-ripple" style = 'position: absolute; top:50%; left:50%; -webkit-transform:translate(-50%, -50%); transform: translate(-50%, -50%);'><div></div><div></div></div>
  </div>
  <div id = 'ph' class ='image3'></div>

  <div id = 'copy' class ='image' ></div>
  <div id = 'copy2' class ='image2'></div>
  <div class ="content" style="position:absolute; top:0; padding:0; z-index:2;">
    <h1 id = "clientID"></h1>
    <p id="clientCount" hidden>0 Clients connected</p>
    <!-- <button id="resync" style='z-index: 12;'class="button2" onclick="getTime()"hidden>re-sync</button> -->
    <!-- <button id="resyncAud" style='z-index: 10;'class="button2" onclick="getTime()"> audio sync</button> -->
  </div>


    <video id = 'vid' loop = 'true' playsinline muted style = "object-fit:cover; height: 100%; width:100%; margin:0px;">
      <source src="WaitingRoom2.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    

    <!-- WebRTC audio -->
    <audio playsinline autoplay controls hidden muted></audio>

    <!-- local audio -->
    <audio id='test' preload='auto' loop = 'true' hidden playsinline controls src='WaitingRoom.wav'
    oncanplaythrough="myOnCanPlayThroughFunction()"
    onloadeddata="myOnLoadedData()"
    ></audio>

  <button id="sync" class="button" onclick="next()"></button>
  <button id="unmute" class="button2" onclick="unmute()"></button>
  
  
<script type='text/javascript'>
    // function rippleOn(){ 
    //   try {
    //     $('.image').ripples({
    //       resolution: 256,
    //       perturbance: 2
    //     });
    //     $('.image2').ripples({
    //       resolution: 256,
    //       perturbance: 2
    //     });
    //   }
    //   catch (e) {
    //     $('.error').show().text(e);
    //   }
    // }
    // function drop(){ 
    //   $('image2').ripples("drop", 0, 0,200,200);
    // }
</script>
<script src="script.js"></script>
</html>


